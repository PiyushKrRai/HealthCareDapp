{
  "_format": "hh-sol-artifact-1",
  "contractName": "HealthRecords",
  "sourceName": "contracts/HealthRecords.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patientAddress",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "providerAddress",
          "type": "address"
        }
      ],
      "name": "AccessGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patientAddress",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "providerAddress",
          "type": "address"
        }
      ],
      "name": "AccessRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patientAddress",
          "type": "address"
        }
      ],
      "name": "PatientRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "providerAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "specialty",
          "type": "string"
        }
      ],
      "name": "ProviderRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patientAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "RecordAdded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_patientAddress",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_ipfsHash",
          "type": "string"
        }
      ],
      "name": "addRecord",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_patientAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_providerAddress",
          "type": "address"
        }
      ],
      "name": "checkAccess",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_patientAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_recordId",
          "type": "uint256"
        }
      ],
      "name": "getRecord",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "uploadedBy",
              "type": "address"
            }
          ],
          "internalType": "struct HealthRecords.HealthRecord",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_patientAddress",
          "type": "address"
        }
      ],
      "name": "getRecordCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_providerAddress",
          "type": "address"
        }
      ],
      "name": "grantAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "providers",
      "outputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "specialty",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "isRegistered",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_specialty",
          "type": "string"
        }
      ],
      "name": "registerProvider",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_providerAddress",
          "type": "address"
        }
      ],
      "name": "revokeAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610f7d806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c806374ca89711161005b57806374ca89711461011157806385e6853114610124578063cdb8acf014610137578063d47b41d51461015757600080fd5b80630787bc271461008d5780630ae5e739146100b857806358214308146100cd57806362e1f745146100ee575b600080fd5b6100a061009b366004610a6a565b61016a565b6040516100af93929190610ad2565b60405180910390f35b6100cb6100c6366004610a6a565b61029f565b005b6100e06100db366004610a6a565b61037c565b6040519081526020016100af565b6101016100fc366004610b0a565b6103f7565b60405190151581526020016100af565b6100cb61011f366004610b86565b610427565b6100cb610132366004610a6a565b6105a1565b61014a610145366004610bf2565b6105f7565b6040516100af9190610c1c565b6100cb610165366004610c81565b61080f565b60016020526000908152604090208054819061018590610d02565b80601f01602080910402602001604051908101604052809291908181526020018280546101b190610d02565b80156101fe5780601f106101d3576101008083540402835291602001916101fe565b820191906000526020600020905b8154815290600101906020018083116101e157829003601f168201915b50505050509080600101805461021390610d02565b80601f016020809104026020016040519081016040528092919081815260200182805461023f90610d02565b801561028c5780601f106102615761010080835404028352916020019161028c565b820191906000526020600020905b81548152906001019060200180831161026f57829003601f168201915b5050506002909301549192505060ff1683565b6001600160a01b03811660009081526001602052604090206002015460ff166103235760405162461bcd60e51b815260206004820152602b60248201527f5461726765742061646472657373206973206e6f74206120726567697374657260448201526a32b210383937bb34b232b960a91b60648201526084015b60405180910390fd5b3360008181526002602090815260408083206001600160a01b0386168085529252808320805460ff19166001179055519092917f9f520b3bfc56d06f7065d10b4683b3f57ac8895d5026cd176dee95ce1454cb8d91a350565b600081336001600160a01b03821614806103b957506001600160a01b038116600090815260026020908152604080832033845290915290205460ff165b6103d55760405162461bcd60e51b815260040161031a90610d36565b6001600160a01b03831660009081526020819052604090205491505b50919050565b6001600160a01b0380831660009081526002602090815260408083209385168352929052205460ff165b92915050565b3360009081526001602052604090206002015460ff161561048a5760405162461bcd60e51b815260206004820152601b60248201527f50726f766964657220616c726561647920726567697374657265640000000000604482015260640161031a565b604051806060016040528085858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250604080516020601f8601819004810282018101909252848152918101919085908590819084018382808284376000920182905250938552505060016020938401819052338352909252604090208251909150819061052c9082610dd2565b50602082015160018201906105419082610dd2565b50604091820151600291909101805460ff19169115159190911790555133907f6b1aa1e318762b7b04f60cd1d318222049b2c70c1c7daad0af5276d5f3b2525a90610593908790879087908790610ebb565b60405180910390a250505050565b3360008181526002602090815260408083206001600160a01b0386168085529252808320805460ff19169055519092917f825c8be24eb0df19500f63e86c29e7d0d951e73056b889b891d85e40938d9b6e91a350565b61062b604051806080016040528060608152602001606081526020016000815260200160006001600160a01b031681525090565b82336001600160a01b038216148061066657506001600160a01b038116600090815260026020908152604080832033845290915290205460ff165b6106825760405162461bcd60e51b815260040161031a90610d36565b6001600160a01b03841660009081526020819052604090208054849081106106ac576106ac610eed565b90600052602060002090600402016040518060800160405290816000820180546106d590610d02565b80601f016020809104026020016040519081016040528092919081815260200182805461070190610d02565b801561074e5780601f106107235761010080835404028352916020019161074e565b820191906000526020600020905b81548152906001019060200180831161073157829003601f168201915b5050505050815260200160018201805461076790610d02565b80601f016020809104026020016040519081016040528092919081815260200182805461079390610d02565b80156107e05780601f106107b5576101008083540402835291602001916107e0565b820191906000526020600020905b8154815290600101906020018083116107c357829003601f168201915b5050509183525050600282015460208201526003909101546001600160a01b0316604090910152949350505050565b3360009081526001602052604090206002015460ff1661087d5760405162461bcd60e51b815260206004820152602360248201527f43616c6c6572206973206e6f74206120726567697374657265642070726f76696044820152623232b960e91b606482015260840161031a565b84336001600160a01b03821614806108b857506001600160a01b038116600090815260026020908152604080832033845290915290205460ff165b6108d45760405162461bcd60e51b815260040161031a90610d36565b6001600160a01b03861660009081526020818152604091829020825160a0601f890184900490930281018301909352608083018781529092918291908990899081908501838280828437600092019190915250505090825250604080516020601f88018190048102820181019092528681529181019190879087908190840183828082843760009201829052509385525050426020808501919091523360409094019390935250835460018101855593815220815191926004020190819061099c9082610dd2565b50602082015160018201906109b19082610dd2565b506040828101516002830155606090920151600390910180546001600160a01b0319166001600160a01b03928316179055871660009081526020819052908120546109fe90600190610f03565b9050866001600160a01b03167fa9ad46db2c884e6e6299f7bb4005897a4368a2f8a56ddd645874bb9498a03bab828686604051610a3d93929190610f24565b60405180910390a250505050505050565b80356001600160a01b0381168114610a6557600080fd5b919050565b600060208284031215610a7c57600080fd5b610a8582610a4e565b9392505050565b6000815180845260005b81811015610ab257602081850181015186830182015201610a96565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000610ae56060830186610a8c565b8281036020840152610af78186610a8c565b9150508215156040830152949350505050565b60008060408385031215610b1d57600080fd5b610b2683610a4e565b9150610b3460208401610a4e565b90509250929050565b60008083601f840112610b4f57600080fd5b50813567ffffffffffffffff811115610b6757600080fd5b602083019150836020828501011115610b7f57600080fd5b9250929050565b60008060008060408587031215610b9c57600080fd5b843567ffffffffffffffff80821115610bb457600080fd5b610bc088838901610b3d565b90965094506020870135915080821115610bd957600080fd5b50610be687828801610b3d565b95989497509550505050565b60008060408385031215610c0557600080fd5b610c0e83610a4e565b946020939093013593505050565b602081526000825160806020840152610c3860a0840182610a8c565b90506020840151601f19848303016040850152610c558282610a8c565b6040860151606086810191909152909501516001600160a01b0316608090940193909352509192915050565b600080600080600060608688031215610c9957600080fd5b610ca286610a4e565b9450602086013567ffffffffffffffff80821115610cbf57600080fd5b610ccb89838a01610b3d565b90965094506040880135915080821115610ce457600080fd5b50610cf188828901610b3d565b969995985093965092949392505050565b600181811c90821680610d1657607f821691505b6020821081036103f157634e487b7160e01b600052602260045260246000fd5b6020808252601b908201527f43616c6c657220646f6573206e6f742068617665206163636573730000000000604082015260600190565b634e487b7160e01b600052604160045260246000fd5b601f821115610dcd57600081815260208120601f850160051c81016020861015610daa5750805b601f850160051c820191505b81811015610dc957828155600101610db6565b5050505b505050565b815167ffffffffffffffff811115610dec57610dec610d6d565b610e0081610dfa8454610d02565b84610d83565b602080601f831160018114610e355760008415610e1d5750858301515b600019600386901b1c1916600185901b178555610dc9565b600085815260208120601f198616915b82811015610e6457888601518255948401946001909101908401610e45565b5085821015610e825787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b604081526000610ecf604083018688610e92565b8281036020840152610ee2818587610e92565b979650505050505050565b634e487b7160e01b600052603260045260246000fd5b8181038181111561042157634e487b7160e01b600052601160045260246000fd5b838152604060208201526000610f3e604083018486610e92565b9594505050505056fea2646970667358221220826f4f94e8de042411670126aab8e80302fc8058f97b4dc22f5c35d1055be1e164736f6c63430008150033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100885760003560e01c806374ca89711161005b57806374ca89711461011157806385e6853114610124578063cdb8acf014610137578063d47b41d51461015757600080fd5b80630787bc271461008d5780630ae5e739146100b857806358214308146100cd57806362e1f745146100ee575b600080fd5b6100a061009b366004610a6a565b61016a565b6040516100af93929190610ad2565b60405180910390f35b6100cb6100c6366004610a6a565b61029f565b005b6100e06100db366004610a6a565b61037c565b6040519081526020016100af565b6101016100fc366004610b0a565b6103f7565b60405190151581526020016100af565b6100cb61011f366004610b86565b610427565b6100cb610132366004610a6a565b6105a1565b61014a610145366004610bf2565b6105f7565b6040516100af9190610c1c565b6100cb610165366004610c81565b61080f565b60016020526000908152604090208054819061018590610d02565b80601f01602080910402602001604051908101604052809291908181526020018280546101b190610d02565b80156101fe5780601f106101d3576101008083540402835291602001916101fe565b820191906000526020600020905b8154815290600101906020018083116101e157829003601f168201915b50505050509080600101805461021390610d02565b80601f016020809104026020016040519081016040528092919081815260200182805461023f90610d02565b801561028c5780601f106102615761010080835404028352916020019161028c565b820191906000526020600020905b81548152906001019060200180831161026f57829003601f168201915b5050506002909301549192505060ff1683565b6001600160a01b03811660009081526001602052604090206002015460ff166103235760405162461bcd60e51b815260206004820152602b60248201527f5461726765742061646472657373206973206e6f74206120726567697374657260448201526a32b210383937bb34b232b960a91b60648201526084015b60405180910390fd5b3360008181526002602090815260408083206001600160a01b0386168085529252808320805460ff19166001179055519092917f9f520b3bfc56d06f7065d10b4683b3f57ac8895d5026cd176dee95ce1454cb8d91a350565b600081336001600160a01b03821614806103b957506001600160a01b038116600090815260026020908152604080832033845290915290205460ff165b6103d55760405162461bcd60e51b815260040161031a90610d36565b6001600160a01b03831660009081526020819052604090205491505b50919050565b6001600160a01b0380831660009081526002602090815260408083209385168352929052205460ff165b92915050565b3360009081526001602052604090206002015460ff161561048a5760405162461bcd60e51b815260206004820152601b60248201527f50726f766964657220616c726561647920726567697374657265640000000000604482015260640161031a565b604051806060016040528085858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250604080516020601f8601819004810282018101909252848152918101919085908590819084018382808284376000920182905250938552505060016020938401819052338352909252604090208251909150819061052c9082610dd2565b50602082015160018201906105419082610dd2565b50604091820151600291909101805460ff19169115159190911790555133907f6b1aa1e318762b7b04f60cd1d318222049b2c70c1c7daad0af5276d5f3b2525a90610593908790879087908790610ebb565b60405180910390a250505050565b3360008181526002602090815260408083206001600160a01b0386168085529252808320805460ff19169055519092917f825c8be24eb0df19500f63e86c29e7d0d951e73056b889b891d85e40938d9b6e91a350565b61062b604051806080016040528060608152602001606081526020016000815260200160006001600160a01b031681525090565b82336001600160a01b038216148061066657506001600160a01b038116600090815260026020908152604080832033845290915290205460ff165b6106825760405162461bcd60e51b815260040161031a90610d36565b6001600160a01b03841660009081526020819052604090208054849081106106ac576106ac610eed565b90600052602060002090600402016040518060800160405290816000820180546106d590610d02565b80601f016020809104026020016040519081016040528092919081815260200182805461070190610d02565b801561074e5780601f106107235761010080835404028352916020019161074e565b820191906000526020600020905b81548152906001019060200180831161073157829003601f168201915b5050505050815260200160018201805461076790610d02565b80601f016020809104026020016040519081016040528092919081815260200182805461079390610d02565b80156107e05780601f106107b5576101008083540402835291602001916107e0565b820191906000526020600020905b8154815290600101906020018083116107c357829003601f168201915b5050509183525050600282015460208201526003909101546001600160a01b0316604090910152949350505050565b3360009081526001602052604090206002015460ff1661087d5760405162461bcd60e51b815260206004820152602360248201527f43616c6c6572206973206e6f74206120726567697374657265642070726f76696044820152623232b960e91b606482015260840161031a565b84336001600160a01b03821614806108b857506001600160a01b038116600090815260026020908152604080832033845290915290205460ff165b6108d45760405162461bcd60e51b815260040161031a90610d36565b6001600160a01b03861660009081526020818152604091829020825160a0601f890184900490930281018301909352608083018781529092918291908990899081908501838280828437600092019190915250505090825250604080516020601f88018190048102820181019092528681529181019190879087908190840183828082843760009201829052509385525050426020808501919091523360409094019390935250835460018101855593815220815191926004020190819061099c9082610dd2565b50602082015160018201906109b19082610dd2565b506040828101516002830155606090920151600390910180546001600160a01b0319166001600160a01b03928316179055871660009081526020819052908120546109fe90600190610f03565b9050866001600160a01b03167fa9ad46db2c884e6e6299f7bb4005897a4368a2f8a56ddd645874bb9498a03bab828686604051610a3d93929190610f24565b60405180910390a250505050505050565b80356001600160a01b0381168114610a6557600080fd5b919050565b600060208284031215610a7c57600080fd5b610a8582610a4e565b9392505050565b6000815180845260005b81811015610ab257602081850181015186830182015201610a96565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000610ae56060830186610a8c565b8281036020840152610af78186610a8c565b9150508215156040830152949350505050565b60008060408385031215610b1d57600080fd5b610b2683610a4e565b9150610b3460208401610a4e565b90509250929050565b60008083601f840112610b4f57600080fd5b50813567ffffffffffffffff811115610b6757600080fd5b602083019150836020828501011115610b7f57600080fd5b9250929050565b60008060008060408587031215610b9c57600080fd5b843567ffffffffffffffff80821115610bb457600080fd5b610bc088838901610b3d565b90965094506020870135915080821115610bd957600080fd5b50610be687828801610b3d565b95989497509550505050565b60008060408385031215610c0557600080fd5b610c0e83610a4e565b946020939093013593505050565b602081526000825160806020840152610c3860a0840182610a8c565b90506020840151601f19848303016040850152610c558282610a8c565b6040860151606086810191909152909501516001600160a01b0316608090940193909352509192915050565b600080600080600060608688031215610c9957600080fd5b610ca286610a4e565b9450602086013567ffffffffffffffff80821115610cbf57600080fd5b610ccb89838a01610b3d565b90965094506040880135915080821115610ce457600080fd5b50610cf188828901610b3d565b969995985093965092949392505050565b600181811c90821680610d1657607f821691505b6020821081036103f157634e487b7160e01b600052602260045260246000fd5b6020808252601b908201527f43616c6c657220646f6573206e6f742068617665206163636573730000000000604082015260600190565b634e487b7160e01b600052604160045260246000fd5b601f821115610dcd57600081815260208120601f850160051c81016020861015610daa5750805b601f850160051c820191505b81811015610dc957828155600101610db6565b5050505b505050565b815167ffffffffffffffff811115610dec57610dec610d6d565b610e0081610dfa8454610d02565b84610d83565b602080601f831160018114610e355760008415610e1d5750858301515b600019600386901b1c1916600185901b178555610dc9565b600085815260208120601f198616915b82811015610e6457888601518255948401946001909101908401610e45565b5085821015610e825787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b604081526000610ecf604083018688610e92565b8281036020840152610ee2818587610e92565b979650505050505050565b634e487b7160e01b600052603260045260246000fd5b8181038181111561042157634e487b7160e01b600052601160045260246000fd5b838152604060208201526000610f3e604083018486610e92565b9594505050505056fea2646970667358221220826f4f94e8de042411670126aab8e80302fc8058f97b4dc22f5c35d1055be1e164736f6c63430008150033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
